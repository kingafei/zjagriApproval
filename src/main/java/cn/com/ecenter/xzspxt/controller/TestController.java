package cn.com.ecenter.xzspxt.controller;

import cn.com.ecenter.common.entity.FebsResponse;
import cn.com.ecenter.common.utils.SortUtil;
import cn.com.ecenter.xzspxt.entity.NytAddressInfoEntity;
import cn.com.ecenter.xzspxt.entity.QltQlsxEntity;
import cn.com.ecenter.xzspxt.service.DataSyschroService;
import cn.com.ecenter.xzspxt.service.TestService;
import org.dom4j.Document;
import org.dom4j.io.SAXReader;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import javax.sound.midi.Soundbank;
import java.io.ByteArrayInputStream;

@RestController
@RequestMapping("test")
public class TestController {

    @Autowired
    private DataSyschroService dataSyschroService;


    @GetMapping("testQ")
    public FebsResponse testQ() {
       /* String str = "<?xml version=\"1.0\" encoding=\"utf-8\"?><DATAAREA><P_CHANGE_FLAG></P_CHANGE_FLAG><A_CHANGE_FLAG></A_CHANGE_FLAG><FLOW_ID>1BE130DBCEBECDF8D5384E4AFA60D33A</FLOW_ID><FLOW_TITLE>动物防疫条件合格证核发（变更）的内部流程图</FLOW_TITLE><POSITIONS><POSITION><POSITION_ID>44db716a-4ec3-4df2-9f64-d71d07a79d65</POSITION_ID><NAME>审核</NAME><DUTY>提出是否符合准予许可法定要件的意见</DUTY><DEPARTMENT>行政许可科</DEPARTMENT><PERSON></PERSON><PERSONGUIDS>bb4a9ccb4b301132014b34b579b22490;</PERSONGUIDS><PERSONS>陈慧芳;</PERSONS></POSITION><POSITION><POSITION_ID>20b9613c-ea14-4c66-a30f-e6918f3e2f66</POSITION_ID><NAME>业务审查</NAME><DUTY>组织职能单位或专家组，提出专业意</DUTY><DEPARTMENT>畜牧兽医局</DEPARTMENT><PERSON></PERSON><PERSONGUIDS>bb4a9ccb4b301132014b34b3e0a22452;</PERSONGUIDS><PERSONS>潘伟松;</PERSONS></POSITION><POSITION><POSITION_ID>6854d82f-d3d1-44a2-979e-8b71fc716391</POSITION_ID><NAME>受理</NAME><DUTY>接受申请材料，进行形式审查</DUTY><DEPARTMENT>行政许可科</DEPARTMENT><PERSON></PERSON><PERSONGUIDS>bb4a996d5e831389015e9287fc2f451d;bb4a9ccb5d4e7938015d77c8d9454721;</PERSONGUIDS><PERSONS>王世英;周永娇;</PERSONS></POSITION><POSITION><POSITION_ID>8ca2ff7c-b400-4181-aec5-bc6ea6e853e8</POSITION_ID><NAME>送达</NAME><DUTY>送达行政许可决定书或者许可证件</DUTY><DEPARTMENT>行政许可科</DEPARTMENT><PERSON></PERSON><PERSONGUIDS>bb4a996d5e831389015e9287fc2f451d;f39d82314597ae3c01459d8d6c4d2349;</PERSONGUIDS><PERSONS>王世英;县农业局<农村工作办公室>;</PERSONS></POSITION><POSITION><POSITION_ID>f077950e-f831-40bc-b129-aff73ad001ad</POSITION_ID><NAME>审批</NAME><DUTY>决定是否准予行政许可</DUTY><DEPARTMENT>行政许可科</DEPARTMENT><PERSON></PERSON><PERSONGUIDS>bb4a9ccb4b301132014b34b579b22490;</PERSONGUIDS><PERSONS>陈慧芳;</PERSONS></POSITION></POSITIONS><FLOW_ACTIVITYS><FLOW_ACTIVITY><ACTIVITY_ID>0B1733E5AFD639F400D631EF91BB8758</ACTIVITY_ID><TYPE>U</TYPE><TITLE>受理</TITLE><POSITION_ID>6854d82f-d3d1-44a2-979e-8b71fc716391</POSITION_ID><HANDLE_TIMELIMIT>0</HANDLE_TIMELIMIT><HANDLE_TIMELIMIT_TYPE>1</HANDLE_TIMELIMIT_TYPE><FILES></FILES></FLOW_ACTIVITY><FLOW_ACTIVITY><ACTIVITY_ID>F2C3C74E491509855474DDBCFD00E996</ACTIVITY_ID><TYPE>U</TYPE><TITLE>审查</TITLE><POSITION_ID>20b9613c-ea14-4c66-a30f-e6918f3e2f66</POSITION_ID><HANDLE_TIMELIMIT>0</HANDLE_TIMELIMIT><HANDLE_TIMELIMIT_TYPE>1</HANDLE_TIMELIMIT_TYPE><FILES></FILES></FLOW_ACTIVITY><FLOW_ACTIVITY><ACTIVITY_ID>7142DB9F0E6A088348F70247C0192224</ACTIVITY_ID><TYPE>U</TYPE><TITLE>审核</TITLE><POSITION_ID>44db716a-4ec3-4df2-9f64-d71d07a79d65</POSITION_ID><HANDLE_TIMELIMIT>0</HANDLE_TIMELIMIT><HANDLE_TIMELIMIT_TYPE>1</HANDLE_TIMELIMIT_TYPE><FILES></FILES></FLOW_ACTIVITY><FLOW_ACTIVITY><ACTIVITY_ID>3E8AAAF5B6C7E85FEF6F6F84020965B1</ACTIVITY_ID><TYPE>U</TYPE><TITLE>审定</TITLE><POSITION_ID>f077950e-f831-40bc-b129-aff73ad001ad</POSITION_ID><HANDLE_TIMELIMIT>0</HANDLE_TIMELIMIT><HANDLE_TIMELIMIT_TYPE>1</HANDLE_TIMELIMIT_TYPE><FILES></FILES></FLOW_ACTIVITY><FLOW_ACTIVITY><ACTIVITY_ID>512EE724DA1EBC263C19597211346597</ACTIVITY_ID><TYPE>U</TYPE><TITLE>送达</TITLE><POSITION_ID>8ca2ff7c-b400-4181-aec5-bc6ea6e853e8</POSITION_ID><HANDLE_TIMELIMIT>0</HANDLE_TIMELIMIT><HANDLE_TIMELIMIT_TYPE>1</HANDLE_TIMELIMIT_TYPE><FILES></FILES></FLOW_ACTIVITY></FLOW_ACTIVITYS><TRANSATIONS><TRANSATION><SOURCE_FLOW_ACTIVITY_ID>3E8AAAF5B6C7E85FEF6F6F84020965B1</SOURCE_FLOW_ACTIVITY_ID><TARGET_FLOW_ACTIVITY_ID>512EE724DA1EBC263C19597211346597</TARGET_FLOW_ACTIVITY_ID><NOTE>审定</NOTE></TRANSATION><TRANSATION><SOURCE_FLOW_ACTIVITY_ID>7142DB9F0E6A088348F70247C0192224</SOURCE_FLOW_ACTIVITY_ID><TARGET_FLOW_ACTIVITY_ID>3E8AAAF5B6C7E85FEF6F6F84020965B1</TARGET_FLOW_ACTIVITY_ID><NOTE>审核</NOTE></TRANSATION><TRANSATION><SOURCE_FLOW_ACTIVITY_ID>F2C3C74E491509855474DDBCFD00E996</SOURCE_FLOW_ACTIVITY_ID><TARGET_FLOW_ACTIVITY_ID>7142DB9F0E6A088348F70247C0192224</TARGET_FLOW_ACTIVITY_ID><NOTE>审查</NOTE></TRANSATION><TRANSATION><SOURCE_FLOW_ACTIVITY_ID>0B1733E5AFD639F400D631EF91BB8758</SOURCE_FLOW_ACTIVITY_ID><TARGET_FLOW_ACTIVITY_ID>F2C3C74E491509855474DDBCFD00E996</TARGET_FLOW_ACTIVITY_ID><NOTE>受理</NOTE></TRANSATION><TRANSATION><SOURCE_FLOW_ACTIVITY_ID>512EE724DA1EBC263C19597211346597</SOURCE_FLOW_ACTIVITY_ID><TARGET_FLOW_ACTIVITY_ID>b327b4d6a88035d6fa841e75fefb63a5</TARGET_FLOW_ACTIVITY_ID><NOTE>送达</NOTE></TRANSATION></TRANSATIONS></DATAAREA>";
        System.out.println(str);
        //str = str.replaceAll("","");
        str = str.replace("<农村工作办公室>","农村工作办公室");
        System.out.println(str);

        SAXReader reader = new SAXReader();
        Document document = null;
        try {
            document = reader.read(new ByteArrayInputStream(str.getBytes()));
        } catch (Exception ex) {
            ex.printStackTrace();
        }*/

        //QltQlsxEntity qltQlsxEntity = testService.testQuartz();
        QltQlsxEntity qltQlsxEntity = null;
        dataSyschroService.dataSyschro("1000");
        return new FebsResponse().success().data(qltQlsxEntity);
    }

}